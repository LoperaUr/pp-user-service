| Semana | # HU | Rol | Historia de Usuario | Descripción | Criterios de Aceptación |
|--------|------|-----|---------------------|-------------|-------------------------|
| 1 | 1 | Administrador | Yo como Administrador de la plataforma de plazoleta de comidas necesito poder crear en el sistema la cuenta para un propietario para poder crear un restaurante a cargo de un propietario | Al crear una cuenta, se deben solicitar los siguientes campos obligatorios: Nombre, Apellido, DocumentoDeIdentidad, celular, fechaNacimiento, correo y clave(encriptada con bcrypt). Se debe verificar estructura de email válida, el teléfono debe contener un máximo de 13 caracteres y puede contener el símbolo +. Ejemplo: +573005698325, El documento de identidad debe ser únicamente numérico. El usuario quedara con el rol propietario. El usuario debe ser mayor de edad. |  |
| 1 | 2 | Administrador | Yo como administrador de la plazoleta de comidas necesito poder crear en el sistema los restaurantes para brindarle al cliente la posibilidad de escoger en cual pedir sus alimentos. | La creación de un restaurante requiere los siguientes campos obligatorios: Nombre, NIT, Direccion, Telefono, UrlLogo y el id del usuario propietario. Al momento de la creación del restaurante, se debe validar que el id del usuario corresponda a un usuario con ese rol. Los campos NIT y TelefonoRestaurante deben ser únicamente numéricos. El campo TelefonoRestaurante debe contener un máximo de 13 caracteres y puede contener el símbolo +. Ejemplo: +573005698325. El nombre del restaurante puede contener números, pero no se permiten nombres con sólo números. |  |
| 1 | 3 | Propietario | Yo como propietario de un restaurante necesito crear platos para asociarlos al menú de mi restaurante para brindarle diferentes opciones de platos al cliente | Solo el propietario de un restaurante puede crear platos. Para crear un plato se deben solicitar los siguientes campos obligatorios: Nombre del plato, precio del plato (en números enteros positivos y mayores a 0), Descripción, UrlImagen y la categoria. Todo plato debe estar asociado a un restaurante. Por defecto cada plato recien creado tiene la variable activa en true. |  |
| 1 | 4 | Propietario | Yo como propietario de un restaurante necesito actualizar la información de los platos en el menú para corregir valores errados o actualizar precios | Solo se puede modificar precio y descripcion. |  |
| 1 | 5 | Administrador / Propietario / Empleado | Yo como administrador / cliente / propietario / empleado necesito agregar la autenticacion al sistema para poder acceder a las funcionalidades que le corresponden a mi rol y exponer mis servicios solo a usuarios logiados | El inicio de sesión es a través de correo y clave. Se debe validar usuario y contraseña correcta. El número de intentos puede ser ilimitado. Una vez iniciada la sesión, se debe garantizar que con esa sesión iniciada, cada usuario tiene los permisos para realizar las acciones que le correspondan a su rol. Agregar validacion de autenticacion a los siguientes endpoint: si creo un usuario propietario, validar que la persona que llamo el servicio sera usuario administrador. Si creo un usuario empleado, validar que la persona que llamo el servicio sea usuario propietario. Si creo un restaurante, validar que la persona que llamo el servicio sea un usuario administrador. Si creo/modifico un plato, validar que la persona que llamo el servicio sea un usuario propietario y sea el propietario del restaurante al cual se le va a asignar ese plato. Nota: En esta versión de la aplicación, no está contemplada la recuperación de contraseña. |  |
| 2 | 6 | Propietario | Yo como propietario de un restaurante necesito poder crearles cuentas a los empleados para que puedan acceder al sistema y administrar los pedidos | Solo el propietario puede crearle cuentas a los empleados de su empresa. Al crear una cuenta para empleado, se deben solicitar los siguientes campos obligatorios: Nombre, Apellido, DocumentoDeIdentidad, celular, correo, idRol y clave(encriptada con bcrypt). El usuario quedara con el rol empleado. |  |
| 2 | 7 | Propietario | Yo como propietario de un restaurante necesito activar/desactivar platos en el menú para dejar de ofrecer el producto en el menú | Solo el propietario puede habilitar/deshabilitar platos. No se permiten modificar platos de otros restaurantes diferentes al propio. |  |
| 2 | 8 | Cliente | Yo como cliente de la plazoleta de comida necesito poder crear mi cuenta para que puedan acceder al sistema y Realizar pedidos | Al crear una cuenta para Cliente, se deben solicitar los siguientes campos obligatorios: Nombre, Apellido, DocumentoDeIdentidad, celular, correo, idRol y clave(encriptada con bcrypt). El usuario quedara con el rol cliente. |  |
| 2 | 9 | Cliente | Yo como cliente de la plazoleta de comidas necesito listar los restaurantes disponibles para poder elegir en cual deseo ordenar un plato | Se deben listar todos los restaurantes por orden alfabético y paginados de acuerdo con un campo que permita especificar cuántos elementos por página. Los campos devueltos de cada restaurante deben ser: Nombre, UrlLogo. |  |
| 2 | 10 | Cliente | Yo como cliente de la plazoleta de comidas necesito listar el menú de cada restaurante al que le doy clic para poder solicitar el plato de mi preferencia | Se deben listar paginados y poderse filtrar por categoría los platos de cada menú. Se debe poder paginar de acuerdo con el número de elementos por página escogido. |  |
| 2 | 11 | Cliente | Yo como cliente de la plazoleta de comidas necesito poder solicitar los platos de mi preferencia para que puedan prepararlos y traerlos a mi mesa | Un pedido consta de una lista de platos de un mismo restaurante. Todo pedido debe especificar el restaurante, los platos escogidos y la cantidad de cada uno de esos platos. Inmediatamente después de recibir un pedido, este debe quedar con estado "Pendiente". El cliente puede solicitar un nuevo pedido, solo si no tiene ningun pedido en proceso(en_preparacion,pendiente o listo). |  |
| 2 | 12 | Empleado | Yo como empleado de un restaurante necesito visualizar la lista de pedidos filtrando por estado para poder seleccionar aquel pedido al que necesite cambiarle su estado | El servicio debe devolver la lista de pedidos de acuerdo con un filtro por estado. El servicio debe estar paginado y se le debe especificar la cantidad de elementos por página. Se deben listar todos los campos del pedido. Solo se pueden listar los pedidos del restaurante al que pertenece el empleado. |  |
| 3 | 13 | Empleado | Yo como empleado de un restaurante necesito asignarme a un pedido y cambiarle su estado para que el cliente pueda saber el avance de su orden. | El servicio debe devolver la lista de pedidos de acuerdo con un filtro por estado. El servicio debe estar paginado y se le debe especificar la cantidad de elementos por página. Se deben listar todos los campos del pedido. Solo se pueden listar los pedidos del restaurante al que pertenece el empleado. Asignarse a un pedido significa que en el campo EmpleadoAsignado se pone el id de quien se asigna a ese pedido. |  |
| 3 | 14 | Empleado | Yo como empleado de un restaurante necesito notificar al cliente de que su pedido está listo para que tenga la certeza de que en pocos minutos lo podra recoger. | Cuando un pedido está listo, se le debe notificar al cliente que su pedido está listo a través de mensaje SMS al telefono indicando el pin de seguridad para reclamar su pedido. |  |
| 3 | 15 | Empleado | Yo como empleado de un restaurante necesito marcar como entregado un pedido para poder cerrar el ciclo del mismo y concentrarme en otros pedidos | Sólo los pedidos que están en estado "Listo" pueden pasar a estado "entregado". Ningún pedido en estado "entregado" puede ser modificado a cualquier estado diferente de "Listo". Para poder cambiar al estado "entregado" el empleado debe digitar el pin de seguridad que le fue enviado al cliente para reclamar su pedido. |  |
| 3 | 16 | Cliente | Yo como cliente de un restaurante necesito poder cancelar mi pedido para tener la posibilidad de retractarme por cualquier motivo | Sólo se pueden cancelar pedidos que se encuentren en estado "Pendiente". Si el estado del pedido que tratan de cancelar es diferente a "Pendiente", se le debe notificar al usuario: "Lo sentimos, tu pedido ya está en preparación y no puede cancelarse". |  |
| 3 | 17 | Cliente | Yo como cliente de un restaurate necesito poder visualizar los cambios de estado de mi pedido para ver la rapides del servicio solicitado. | Se debe crear un registro de cada cambio de estado de un pedido. Cada cliente puede consultar el historial de logs solo de sus propios pedidos. |  |
| 3 | 18 | Propietario | Yo como propietario de un restaurante necesito poder saber que eficiencia estan teniendo los pedidos del restaurante para dar una mejor experiencia a los clientes | Mostrar de cada pedido, cual es el tiempo entre que un pedido inicia y un pedido termina. Mostrar por empleado, un ranking de cual es el tiempo medio entre que un pedido inicia y un pedido termina. |  |

